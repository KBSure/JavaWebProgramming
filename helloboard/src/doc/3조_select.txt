
-- 공지사항 최근 3개
SELECT  board.boardidx, board.title FROM helloboard.board where topic = 'notice' order by date desc, time desc limit 3;

-- 추천 글 추천수 높은 4개
SELECT board.boardidx, board.title FROM board ORDER BY great DESC, view DESC, date DESC, time DESC LIMIT 0, 4 ;

-- 입력된 주민등록번호로 가입된 회원 있는지
SELECT count(*) FROM helloboard.user where secNum = '123456-9876543';

-- 중복체크한 아이디로 가입된 회원 있는지
SELECT id FROM user WHERE id='abcde001';

-- 리스트들을 기본(최신순)으로 불러오는데, 게시글에 대한 태그값들도 함께 불러온다!!!!!!!
SELECT board.date, board.time, board.great, board.view, board.boardidx, board.title, GROUP_CONCAT(tag.tagname SEPARATOR '/') AS ctagname FROM boardtag AS bt RIGHT OUTER JOIN board ON bt.boardidx = board.boardidx
LEFT OUTER JOIN tag ON bt.tagidx = tag.tagidx
GROUP BY board.boardidx ORDER BY board.date DESC, board.time DESC;

-- 추천 글 추천수 높은 2개
SELECT board.date, board.time, board.great, board.view, board.boardidx, board.title, GROUP_CONCAT(tag.tagname SEPARATOR '/') AS ctagname FROM boardtag AS bt RIGHT OUTER JOIN board ON bt.boardidx = board.boardidx
LEFT OUTER JOIN tag ON bt.tagidx = tag.tagidx
GROUP BY board.boardidx ORDER BY board.great DESC, board.view DESC , board.date DESC, board.time DESC LIMIT 0, 2;

-- 추천순
SELECT board.boardidx, board.title, user.id,
board.date, board.time, board.category, board.topic, board.view, board.great
FROM helloboard.board, helloboard.user
where user.useridx = board.writer and board.category = 'community' and board.topic = 'chat'
order by great desc, view desc;

-- 최신순(기본)
SELECT board.boardidx, board.title, user.id,
board.date, board.time, board.category, board.topic, board.view, board.great
FROM helloboard.board, helloboard.user
where user.useridx = board.writer and board.category = 'community' and board.topic = 'chat' and content like '%용1%'
order by date desc, time desc;

-- boardID를 통해서 그 보드의 필드값들을 select한다
SELECT board.boardidx, board.title, board.content, board.fileName, user.id,
board.date, board.time, board.category, board.topic, board.view, board.great
FROM helloboard.board, helloboard.user
where user.useridx = board.writer and board.boardidx = 6
order by date desc, time desc;

-- boardID를 통해서 댓글의 필드값들을 select한다
select u.id, t.reply, t.replyDate, t.replyTime
from helloboard.user as u, (
select reply.useridx, reply.reply, reply.replyDate, reply.replyTime
from helloboard.reply, helloboard.board, helloboard.user
where reply.boardidx = board.boardidx and board.writer = user.useridx and board.boardidx = 6) as t
where u.useridx = t.useridx
order by replyDate asc, replyTime asc;